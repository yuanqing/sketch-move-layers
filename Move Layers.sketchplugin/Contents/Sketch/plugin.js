!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"CHECK_BOX",function(){return s}),n.d(r,"DROP_DOWN",function(){return o}),n.d(r,"RADIO_BUTTONS",function(){return u}),n.d(r,"NUMERIC_TEXT_BOX",function(){return l.a}),n.d(r,"STRING_TEXT_BOX",function(){return p}),n.d(r,"TEXT_BOX",function(){});const a="sketch-plugin-helper";function c(){return JSON.parse('{"private": true,"version": "0.2.2","devDependencies": {"sketch-plugin-helper": "*"},"scripts": {"build": "sph build","fix": "sph lint --fix","lint": "sph lint","symlink": "sph symlink","unlink": "sph symlink --delete","version": "sph version","watch": "sph build --watch"},"sketch-plugin-helper": {"pluginName": "Move Layers","pluginDescription": "A Sketch plugin to precisely move and arrange layers","authorName": "Lim Yuan Qing","githubUserName": "yuanqing","githubRepositoryName": "sketch-move-layers","menu": [{"handler": "move-selected-layers","label": "Move Selected Layers"},"-",{"handler": "space-selected-layers/space-selected-layers-left","label": "Space Selected Layers Left"},{"handler": "space-selected-layers/space-selected-layers-right","label": "Space Selected Layers Right"},{"handler": "space-selected-layers/space-selected-layers-up","label": "Space Selected Layers Up"},{"handler": "space-selected-layers/space-selected-layers-down","label": "Space Selected Layers Down"},"-",{"handler": "space-layers-in-group/space-layers-in-group-left","label": "Space Layers in Group Left"},{"handler": "space-layers-in-group/space-layers-in-group-right","label": "Space Layers in Group Right"},{"handler": "space-layers-in-group/space-layers-in-group-up","label": "Space Layers in Group Up"},{"handler": "space-layers-in-group/space-layers-in-group-down","label": "Space Layers in Group Down"},"-",{"handler": "reset-settings","label": "Reset Settings"}],"defaultSettings": {"moveSelectedLayers.horizontalOffset": null,"moveSelectedLayers.verticalOffset": null,"spaceLayersInGroup.exactMatch": true,"spaceLayersInGroup.groupName": "Group","spaceLayersInGroup.space": 0,"spaceSelectedLayers.space": 0}}\n}\n')}var i=n(1);function s({width:e,height:t,label:n,value:r}){const a=NSButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));return a.setButtonType(NSSwitchButton),a.setBezelStyle(0),a.setState(r?NSOnState:NSOffState),a.setTitle(n),{view:a,retrieveValue:function(){return"1"==a.stringValue()}}}function o({width:e,height:t,value:n,possibleValues:r}){const a=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,0,e,t));r.forEach(function(e){a.addItemWithTitle(e)});const c=void 0!==n?r.indexOf(n):0;return a.selectItemAtIndex(c),{view:a,retrieveValue:function(){const e=a.indexOfSelectedItem();return r[e]}}}function u({width:e,height:t,value:n,possibleValues:r}){const a=NSButtonCell.alloc().init();a.setButtonType(NSRadioButton);const c=r.length,i=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,0,e,t),NSRadioModeMatrix,a,1,c);i.setCellSize(CGSizeMake(Math.floor(e/c),t)),i.cells().forEach(function(e,t){e.setTitle(r[t])});const s=void 0!==n?r.indexOf(n):0;return i.selectCellAtRow_column(0,s),{view:i,retrieveValue:function(){const e=i.cells().indexOfObject(i.selectedCell());return r[e]}}}var l=n(7),f=n(4);const p=Object(f.a)(),d=20,y=12,h=20,b=6,g=300;function v({title:e,inputs:t}){const n=function(){const{defaultSettings:e}=c()[a];return void 0===e?{}:Object.keys(e).reduce(function(t,n){const r=Object(i.sessionVariable)(n),a=Object(i.settingForKey)(n),c=void 0!==r?r:a,s=e[n];return t[n]=void 0!==c?c:s,t},{})}(),{inputs:s,views:o,stackViewHeight:u}=function({inputsConfig:e,settings:t}){const n={},a=[];let c=0;return e.forEach(function({type:e,key:i,label:s,value:o,...u}){if(s&&"CHECK_BOX"!==e){const e=function({label:e,width:t,height:n}){const r=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n));return r.setBezeled(!1),r.setDrawsBackground(!1),r.setEditable(!1),r.setLineBreakMode(NSLineBreakByTruncatingTail),r.setSelectable(!1),r.setStringValue(e),r}({label:s,width:g,height:h});a.push({view:e,paddingBottom:b}),c+=h+b}const l=t[i],f=null!=o?o:l,{view:p,retrieveValue:v}=r[e]({label:s,value:f,width:g,height:d,...u});a.push({view:p,paddingBottom:y}),c+=d+y,n[i]=v}),{inputs:n,views:a,stackViewHeight:c-=y}}({inputsConfig:t,settings:n}),l=function({width:e,height:t,views:n}){const r=NSStackView.alloc().initWithFrame(NSMakeRect(0,0,e,t));return r.setAlignment(NSLayoutAttributeLeft),r.setOrientation(NSUserInterfaceLayoutOrientationVertical),r.setSpacing(0),r.setTranslatesAutoresizingMaskIntoConstraints(!0),r.updateConstraintsForSubtreeIfNeeded(),n.forEach(function({view:e,paddingBottom:t}){r.addView_inGravity_(e,NSStackViewGravityTop),r.setCustomSpacing_afterView_(t,e)}),r}({width:g,height:u,views:o}),f=function(e){const t=NSAlert.alloc().init();return t.window().setAutorecalculatesKeyViewLoop(!0),t.setMessageText(e),t.addButtonWithTitle("OK"),t.addButtonWithTitle("Cancel"),t}(e);return f.setAccessoryView(l),"1000"==f.runModal()?Object.keys(s).reduce(function(e,t){const n=s[t];return e[t]=n(),e},{}):null}var m=n(8),S=n.n(m);function O(e,t){S.a.message(t&&t.symbol?`${t.symbol} ${e}`:e)}function _(e){O(e,{symbol:"✔"})}function w(e){O(e,{symbol:"✘"})}function x(){const{defaultSettings:e}=c()[a];void 0!==e&&(Object.keys(e).forEach(function(e){Object(i.setSettingForKey)(e,void 0),Object(i.setSessionVariable)(e,void 0)}),O("Reset settings"))}j(i.setSettingForKey);const L=j(i.setSessionVariable);function j(e){return function(t,n){if(void 0===t)return;Object.keys(t).forEach(function(n){const r=t[n];void 0!==r&&e(n,r)});const r=void 0!==n&&n.successMessage;r&&O(r)}}n(9),n(10);n(11);var k=n(12);function N(){const e=NSApplication.sharedApplication().orderedDocuments();return Object(k.fromNative)(e[0])}function T(e){!function e(t,n){const r=t.parent;r&&"Group"===r.type&&!n[r.id]&&(r.adjustToFit(),n[r.id]=!0,e(r,n))}(e,{})}function E(){return N().selectedPage.layers}function M(){return N().selectedLayers.layers.reverse()}function B(e,t){e.forEach(function(e){t(e);const n=e.type;"Artboard"!==n&&"Group"!==n||B(e.layers,t)})}function R(e){return function e(t,n){const r=t.parent;if("Page"===r.type)return n;const a={x:n.x+r.frame.x,y:n.y+r.frame.y};if("Artboard"===r.type)return a;return e(r,a)}(e,{x:e.frame.x,y:e.frame.y})}n.d(t,"i",function(){return v}),n.d(t,"j",function(){return x}),n.d(t,"k",function(){return L}),n.d(t,"a",function(){return"CHECK_BOX"}),n.d(t,"b",function(){return"NUMERIC_TEXT_BOX"}),n.d(t,"c",function(){return"STRING_TEXT_BOX"}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return R}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return M}),n.d(t,"h",function(){return B}),n.d(t,"m",function(){return _}),n.d(t,"l",function(){return w})},function(e,t){e.exports=require("sketch/settings")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(6),c=n(5);function i(e){const{sortLayers:t,spaceLayers:n,label:i}=a.a[e];return function(){const a=Object(r.g)();if(a.length<2)return void Object(r.l)("Select at least 2 layers");const s=Object(r.i)({title:`Space Selected Layers ${i}`,inputs:[{type:r.b,key:"spaceSelectedLayers.space",label:"Space"}]});s&&(Object(r.k)(s),n({layers:Object(c.a)(a).sort(t),space:s["spaceSelectedLayers.space"]}),a.forEach(r.d),Object(r.m)(`Spaced selected layers ${e}`))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(6),c=n(5);function i(e){const{sortLayers:t,spaceLayers:n,label:i}=a.a[e];return function(){const a=Object(r.i)({title:`Space Layers in Group ${i}`,inputs:[{type:r.c,key:"spaceLayersInGroup.groupName",label:"Group name"},{type:r.a,key:"spaceLayersInGroup.exactMatch",label:"Exact match"},{type:r.b,key:"spaceLayersInGroup.space",label:"Space"}]});if(!a)return;Object(r.k)(a);const s=a["spaceLayersInGroup.space"],o=a["spaceLayersInGroup.groupName"],u=function(e){const t=[];return Object(r.h)(Object(r.f)(),function(n){"Group"===n.type&&e.test(n.name)&&t.push(n)}),t}(new RegExp(a["spaceLayersInGroup.exactMatch"]?`^${o}$`:o));0!==u.length?(u.forEach(function(e){n({layers:Object(c.a)(e.layers).sort(t),space:s}),e.adjustToFit()}),u.forEach(r.d),Object(r.m)(`Spaced layers in group ${e}`)):Object(r.l)("No groups found")}}},function(e,t,n){"use strict";function r(e){return function({width:t,height:n,value:r,placeholder:a}){const c=NSTextField.alloc().initWithFrame(NSMakeRect(0,0,t,n)),i=null==r?"":`${r}`;return c.setStringValue(i),a&&c.setPlaceholderString(a),{view:c,retrieveValue:function(){const t=`${c.stringValue()}`;return e?e(t):t}}}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0);function a(e){return e.map(function(e){return{...Object(r.e)(e),layer:e}})}},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"label",function(){return s}),n.d(r,"sortLayers",function(){return o}),n.d(r,"spaceLayers",function(){return u});var a={};n.r(a),n.d(a,"label",function(){return l}),n.d(a,"sortLayers",function(){return f}),n.d(a,"spaceLayers",function(){return p});var c={};n.r(c),n.d(c,"label",function(){return d}),n.d(c,"sortLayers",function(){return y}),n.d(c,"spaceLayers",function(){return h});var i={};n.r(i),n.d(i,"label",function(){return b}),n.d(i,"sortLayers",function(){return g}),n.d(i,"spaceLayers",function(){return v});const s="Down";function o(e,t){return t.y+t.layer.frame.height-(e.y+e.layer.frame.height)}function u({layers:e,space:t}){let n=null;e.forEach(function({y:e,layer:r}){null!=n?(n=n-t-r.frame.height,r.frame.y=n-(e-r.frame.y)):n=e})}const l="Left";function f(e,t){return e.x-t.x}function p({layers:e,space:t}){let n=null;e.forEach(function({x:e,layer:r}){null!=n?(r.frame.x=n-(e-r.frame.x),n=n+r.frame.width+t):n=e+r.frame.width+t})}const d="Right";function y(e,t){return t.x+t.layer.frame.width-(e.x+e.layer.frame.width)}function h({layers:e,space:t}){let n=null;e.forEach(function({x:e,layer:r}){null!=n?(n=n-t-r.frame.width,r.frame.x=n-(e-r.frame.x)):n=e})}const b="Up";function g(e,t){return e.y-t.y}function v({layers:e,space:t}){let n=null;e.forEach(function({y:e,layer:r}){null!=n?(r.frame.y=n-(e-r.frame.y),n=n+r.frame.height+t):n=e+r.frame.height+t})}t.a={down:r,left:a,right:c,up:i}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return numericTextBox});var _text_box__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);const numericTextBox=Object(_text_box__WEBPACK_IMPORTED_MODULE_0__.a)(function(value){return parseFloat(eval(value))})},function(e,t){e.exports=require("sketch/ui")},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t,n){"use strict";const r=async(e,t)=>{let n=0;for(const r of e)await t(await r,n++);return e};e.exports=r,e.exports.default=r},function(e,t){e.exports=require("sketch/dom")},function(e,t){e.exports=require("sketch")},function(e,t,n){e.exports=n(14)},function(e,t,n){e.exports={"move-selected-layers":n(15).default,"space-selected-layers/space-selected-layers-left":n(16).default,"space-selected-layers/space-selected-layers-right":n(17).default,"space-selected-layers/space-selected-layers-up":n(18).default,"space-selected-layers/space-selected-layers-down":n(19).default,"space-layers-in-group/space-layers-in-group-left":n(20).default,"space-layers-in-group/space-layers-in-group-right":n(21).default,"space-layers-in-group/space-layers-in-group-up":n(22).default,"space-layers-in-group/space-layers-in-group-down":n(23).default,"reset-settings":n(24).default}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return c});var r=n(0);const a={title:"Move Selected Layers",inputs:[{type:r.b,key:"moveSelectedLayers.horizontalOffset",label:"→ Horizontal offset"},{type:r.b,key:"moveSelectedLayers.verticalOffset",label:"↓ Vertical offset"}]};function c(){const e=Object(r.g)();if(0===e.length)return void Object(r.l)("Select at least 1 layer");const t=Object(r.i)(a);if(!t)return;const n=t["moveSelectedLayers.horizontalOffset"],c=t["moveSelectedLayers.verticalOffset"];if(0===n&&0===c)return;e.forEach(function(e){e.frame.x+=n,e.frame.y+=c}),e.forEach(r.d);const s=i({offset:n,positiveSymbol:"→",negativeSymbol:"←"}),o=i({offset:c,positiveSymbol:"↓",negativeSymbol:"↑"}),u=`Moved ${1===e.length?"layer":"layers"} ${s} ${o}`;Object(r.m)(u.trim())}function i({offset:e,positiveSymbol:t,negativeSymbol:n}){return e>0?`${t} ${e}`:e<0?`${n} ${-1*e}`:""}},function(e,t,n){"use strict";n.r(t);var r=n(2);t.default=Object(r.a)("left")},function(e,t,n){"use strict";n.r(t);var r=n(2);t.default=Object(r.a)("right")},function(e,t,n){"use strict";n.r(t);var r=n(2);t.default=Object(r.a)("up")},function(e,t,n){"use strict";n.r(t);var r=n(2);t.default=Object(r.a)("down")},function(e,t,n){"use strict";n.r(t);var r=n(3);t.default=Object(r.a)("left")},function(e,t,n){"use strict";n.r(t);var r=n(3);t.default=Object(r.a)("right")},function(e,t,n){"use strict";n.r(t);var r=n(3);t.default=Object(r.a)("up")},function(e,t,n){"use strict";n.r(t);var r=n(3);t.default=Object(r.a)("down")},function(e,t,n){"use strict";n.r(t);var r=n(0);t.default=r.j}]));